//
//  main.cpp
//  Collegedata_crawler
//
//  Created by Scott Deng on 12/21/15.
//  Copyright Â© 2015 Scott Deng. All rights reserved.
//

#include <iostream>
#include <boost/regex.hpp>
#include "curl.hpp"
int main(int argc, const char * argv[]) {
  curl::init();
  curl::Curl new_curl;
  std::string url;
  std::string post;
  url = "http://www.collegedata.com/cs/dwr/call/plaincall/AdmissionScattergramService.renderChart.dwr";
  
  post = "callCount=1\npage=/cs/admissions/admissions_tracker_result.jhtml?schoolId=1090&classYear=2020\nhttpSessionId=l7bM9FRnlbfIX2CIl3rsy5kCiJuBNG_Q0ubm5DePitu8OHkMrrpW!627193196\nscriptSessionId=160D55EF8797A3585DB2D24DDF1E3553183\nc0-scriptName=AdmissionScattergramService\nc0-methodName=renderChart\nc0-id=0\nc0-e1=string:true\nc0-e2=string:true\nc0-e3=string:true\nc0-e4=string:true\nc0-e5=string:true\nc0-e7=string:8\nc0-e8=string:2\nc0-e9=string:4\nc0-e10=string:3\nc0-e11=string:6\nc0-e12=string:7\nc0-e6=Array:[reference:c0-e7,reference:c0-e8,reference:c0-e9,reference:c0-e10,reference:c0-e11,reference:c0-e12]\nc0-e13=string:true\nc0-e14=string:true\nc0-e15=string:true\nc0-e16=string:true\nc0-e17=string:true\nc0-e18=string:true\nc0-e19=string:true\nc0-e20=string:true\nc0-e22=string:1\nc0-e23=string:2\nc0-e24=string:3\nc0-e25=string:4\nc0-e26=string:0\nc0-e21=Array:[reference:c0-e22,reference:c0-e23,reference:c0-e24,reference:c0-e25,reference:c0-e26]\nc0-e27=string:true\nc0-e28=string:true\nc0-e30=string:AL\nc0-e31=string:AK\nc0-e32=string:AR\nc0-e33=string:AS\nc0-e34=string:AZ\nc0-e35=string:CA\nc0-e36=string:CO\nc0-e37=string:CT\nc0-e38=string:DC\nc0-e39=string:DE\nc0-e40=string:FL\nc0-e41=string:FM\nc0-e42=string:GA\nc0-e43=string:GU\nc0-e44=string:HI\nc0-e45=string:IA\nc0-e46=string:ID\nc0-e47=string:IL\nc0-e48=string:IN\nc0-e49=string:KS\nc0-e50=string:KY\nc0-e51=string:LA\nc0-e52=string:MA\nc0-e53=string:MD\nc0-e54=string:ME\nc0-e55=string:MH\nc0-e56=string:MI\nc0-e57=string:MN\nc0-e58=string:MO\nc0-e59=string:MS\nc0-e60=string:MT\nc0-e61=string:NC\nc0-e62=string:ND\nc0-e63=string:NE\nc0-e64=string:NH\nc0-e65=string:NJ\nc0-e66=string:NM\nc0-e67=string:NV\nc0-e68=string:NY\nc0-e69=string:OH\nc0-e70=string:OK\nc0-e71=string:OR\nc0-e72=string:PA\nc0-e73=string:PR\nc0-e74=string:PW\nc0-e75=string:RI\nc0-e76=string:SC\nc0-e77=string:SD\nc0-e78=string:TN\nc0-e79=string:TX\nc0-e80=string:UT\nc0-e81=string:VA\nc0-e82=string:VI\nc0-e83=string:VT\nc0-e84=string:WA\nc0-e85=string:WI\nc0-e86=string:WV\nc0-e87=string:WY\nc0-e88=string:XX\nc0-e29=Array:[reference:c0-e30,reference:c0-e31,reference:c0-e32,reference:c0-e33,reference:c0-e34,reference:c0-e35,reference:c0-e36,reference:c0-e37,reference:c0-e38,reference:c0-e39,reference:c0-e40,reference:c0-e41,reference:c0-e42,reference:c0-e43,reference:c0-e44,reference:c0-e45,reference:c0-e46,reference:c0-e47,reference:c0-e48,reference:c0-e49,reference:c0-e50,reference:c0-e51,reference:c0-e52,reference:c0-e53,reference:c0-e54,reference:c0-e55,reference:c0-e56,reference:c0-e57,reference:c0-e58,reference:c0-e59,reference:c0-e60,reference:c0-e61,reference:c0-e62,reference:c0-e63,reference:c0-e64,reference:c0-e65,reference:c0-e66,reference:c0-e67,reference:c0-e68,reference:c0-e69,reference:c0-e70,reference:c0-e71,reference:c0-e72,reference:c0-e73,reference:c0-e74,reference:c0-e75,reference:c0-e76,reference:c0-e77,reference:c0-e78,reference:c0-e79,reference:c0-e80,reference:c0-e81,reference:c0-e82,reference:c0-e83,reference:c0-e84,reference:c0-e85,reference:c0-e86,reference:c0-e87,reference:c0-e88]\nc0-e90=string:west\nc0-e91=string:mountain\nc0-e92=string:plains\nc0-e93=string:scwest\nc0-e94=string:greatlakes\nc0-e95=string:sceast\nc0-e96=string:southat\nc0-e97=string:northeast\nc0-e89=Array:[reference:c0-e90,reference:c0-e91,reference:c0-e92,reference:c0-e93,reference:c0-e94,reference:c0-e95,reference:c0-e96,reference:c0-e97]\nc0-e98=string:true\nc0-e99=string:2017\nc0-e100=string:1090\nc0-e102=number:600\nc0-e103=number:2400\nc0-e104=number:100\nc0-e105=string:SAT%202400\nc0-e106=string:1\nc0-e101=Object_Object:{lowBound:reference:c0-e102, upperBound:reference:c0-e103, unit:reference:c0-e104, label:reference:c0-e105, value:reference:c0-e106}\nc0-e108=number:0\nc0-e109=number:4\nc0-e110=number:0.5\nc0-e111=string:GPA%20UNWEIGHTED\nc0-e112=string:2\nc0-e107=Object_Object:{lowBound:reference:c0-e108, upperBound:reference:c0-e109, unit:reference:c0-e110, label:reference:c0-e111, value:reference:c0-e112}\nc0-e113=number:614\nc0-e114=number:271\nc0-e115=string:true\nc0-e116=number:1\nc0-e117=null:null\nc0-param0=Object_Object:{regular:reference:c0-e1, earlyActionDecision:reference:c0-e2, standard:reference:c0-e3, athlete:reference:c0-e4, legacy:reference:c0-e5, selectedStatus:reference:c0-e6, today:reference:c0-e13, thisWeek:reference:c0-e14, lastWeek:reference:c0-e15, thisMonth:reference:c0-e16, older:reference:c0-e17, male:reference:c0-e18, female:reference:c0-e19, genderSelectAll:reference:c0-e20, selectedSchoolType:reference:c0-e21, inState:reference:c0-e27, outOfState:reference:c0-e28, selectedSchoolLocation:reference:c0-e29, regionCheckbox:reference:c0-e89, locationSelectAll:reference:c0-e98, classYear:reference:c0-e99, schoolId:reference:c0-e100, horizontalAxis:reference:c0-e101, verticalAxis:reference:c0-e107, chartWidth:reference:c0-e113, chartHeight:reference:c0-e114, meanLine:reference:c0-e115, zoomLevel:reference:c0-e116, orderbyColumn:reference:c0-e117}\nbatchId=3\n";
  new_curl.set_url(url);
  std::unique_ptr<std::string> buffer_ptr = new_curl.post(post);
  std::cout<<(*buffer_ptr)<<std::endl;
  curl::cleanup();
}
